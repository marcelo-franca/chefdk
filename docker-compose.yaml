version: "3.5"

services:
  chef-workstation:
    container_name: chef-workstation
    build:
      context: .
      dockerfile: Dockerfile
      args:
        CODE_VERSION: 18.04
        BASE_DISTRO: ubuntu
    ports:
      - 443:443
    networks:
      - mitlabs
    restart: always
    stdin_open: true
    tty: true
    extra_hosts:
      - "chef-server.mitlabs.com.br:189.33.92.10"
      - "homolog.mitlabs.com.br:189.33.92.11"
      - "testing.mitlabs.com.br:189.33.92.12"
      - "balancer.mitlabs.com.br:189.33.92.13"
      - "webserver01.mitlabs.com.br:189.33.92.14"
      - "webserver02.mitlabs.com.br:189.33.92.15"
      - "database.mitlabs.com.br:189.33.92.16"
    volumes:
      - "$PWD:/root/chef-repo"
networks:
  mitlabs:
    name: mitlabs
    driver: bridge
